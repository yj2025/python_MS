<!DOCTYPE html>
<head>
    <script>

        function fun1() {

            return function(x){
                for(let i=1; i<10; i++) {
                    console.log( x + ' * ' + i + ' = ' + x * i);
                }
            };

        }

        let returnFun = fun1();
        returnFun(4);

        document.write('<hr>')

        
        // 클로저(closure): free variable(자유변수)에 의해서 함수가 닫혀(closed)있다.   
        function funName(x) {
            var varName = ':: 요청한 ' + x + '에 대한 구구단 ::';

            return function () {
                document.write(varName + '<br>');
                for (var i = 1; i < 10; i++) {
                    document.write(x + ' * ' + i + ' = ' + x * i + '<br>');
                }
            };
        }

        //지역변수에 접근할 수 없다.(에러 발생)
        //console.log("varName : " + varName);

        returnFun = funName(5);
        returnFun();


        // 내부함수 : 함수안에 또다른 함수

        function outFun(width, height){

            //삼각형 면적 계산
            function triangle() {
                
                return (width, height) / 2;
                
            }
            
            // 사각형 면적 계산
            function quadrangle() {
                
                return width * height;
                
            }
            
            console.log("triangle : " + triangle());
            console.log("quadrangle : " + quadrangle());
        }

        outFun(3, 5);

        document.write('<hr>');

        // 출력 총점 270 평균 90
        function test(x,y,z) {
            
            // 총점
            function total() {
                return (x+y+z);
            }
            
            // 평균
            function avg(){
                return total() / 3;
            }
            
            document.write(`총점: ${total()}<br>`)
            document.write(`평균: ${avg()}<br>`)
        }

        test(90,70,80);
        

        function grade(avg){
            if(avg >= 90) {
                return '수';
            }
            else if(avg >= 80) {
                return '우';
            }
            else if(avg >= 70) {
                return '미';
            }
            else if(avg >= 60) {
                return '양';
            }
            else {
                return '가';
            }
        }

        document.write(grade(avg(90,60,60)));
    </script>
</head>
<body>
    
</body>
</html>